<!DOCTYPE html>
<html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Barangay Market Interactive Map</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Admin Dashboard - Barangay Market Map</title>

<!-- LEAFLET MAP LIBRARY -->
<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
:root {
  --text:#111;
  --blue:#0a53c1;
  --white:#fff;
  --border:#e6e8eb;
}

#map{
  height:100vh;
  background:#f4f6f8;
}

/* Legend */
.legend{
  background:white;
  padding:10px;
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
  font-size:13px;
}

.legend div{
  margin-bottom:6px;
}

.box{
  width:14px;
  height:14px;
  display:inline-block;
  margin-right:6px;
  border-radius:3px;
}
</style>
</head>
<body>

<div id="map"></div>

<script>

/* ====== MAP INITIALIZATION ====== */

const imageWidth = 2000;  // adjust if needed
const imageHeight = 1200; // adjust if needed

const map = L.map('map', {
  crs: L.CRS.Simple,
  minZoom: -2,
  maxZoom: 4
});

const bounds = [[0,0], [imageHeight, imageWidth]];

/* ====== LOAD MARKET IMAGE ====== */
/* PUT YOUR IMAGE FILE NAME HERE */
const image = L.imageOverlay("Messenger_creation_0D91EB5E-B5A0-45C0-B80A-DC3D7F8AEED0.jpeg", bounds).addTo(map);
map.fitBounds(bounds);


/* ====== VENDOR DATA ====== */

const vendors = {
  32:{name:"Lily's Textile Stall", section:"Textile", status:"Occupied"},
  5:{name:"Pedro Fish Vendor", section:"Fish", status:"Occupied"},
  18:{name:"Maria Meat Shop", section:"Meat", status:"Occupied"},
  60:{name:"ABC Grocery", section:"Grocery", status:"Occupied"},
  77:{name:"Dry Goods Store", section:"Dry Goods", status:"Occupied"},
  90:{name:"Reserved Stall", section:"Textile", status:"Reserved"},
  15:{name:"Violation Stall", section:"Fish", status:"Violation"}
};


/* ====== STATUS COLORS ====== */

function getColor(status){
  switch(status){
    case "Occupied": return "blue";
    case "Violation": return "red";
    case "Reserved": return "orange";
    default: return "gray";
  }
}


/* ====== ADD STALL MARKERS ====== */
/* You must adjust coordinates to match real stall locations */

function addStall(no, x, y, section){

  const vendor = vendors[no];
  const status = vendor ? vendor.status : "Vacant";

  const marker = L.circleMarker([y, x],{
    radius:8,
    color:getColor(status),
    fillColor:getColor(status),
    fillOpacity:0.8
  }).addTo(map);
body{margin:0;font-family:Inter,system-ui,sans-serif;background:#fff;color:#111}

  marker.bindPopup(`
    <b>Stall No:</b> ${no}<br>
    <b>Section:</b> ${section}<br>
    <b>Status:</b> ${status}<br>
    <b>Vendor:</b> ${vendor ? vendor.name : "Vacant"}
  `);
}


/* ====== WET SECTION (TOP AREA) ====== */

addStall(1, 300, 200, "Fish");
addStall(5, 450, 220, "Fish");
addStall(15, 600, 240, "Fish");

addStall(18, 900, 220, "Meat");
addStall(22, 1050, 240, "Meat");


/* ====== DRY SECTION (BOTTOM AREA) ====== */
/* LAYOUT */
.app{display:grid;grid-template-columns:240px 1fr;height:100vh}
.sidebar{background:#4e73df;color:white}
.brand{padding:1rem;font-weight:bold;border-bottom:1px solid rgba(255,255,255,.2)}
nav{padding:1rem}
.nav-item{display:block;color:white;text-decoration:none;padding:.6rem;border-radius:6px;margin-bottom:5px}
.nav-item:hover,.nav-item.active{background:white;color:#4e73df}

addStall(60, 500, 600, "Grocery");
addStall(77, 800, 650, "Dry Goods");
addStall(90, 1000, 700, "Textile");
addStall(32, 1100, 750, "Textile");
addStall(120, 1300, 800, "Carinderia");
.main{display:grid;grid-template-rows:60px 1fr}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:0 1rem;border-bottom:1px solid var(--border)}
.content{padding:1rem;overflow:hidden}

h1{color:var(--blue);margin-bottom:10px}

/* ====== LEGEND CONTROL ====== */

const legend = L.control({position:"bottomright"});

legend.onAdd = function(){
  const div = L.DomUtil.create("div","legend");
  div.innerHTML = `
    <div><b>Legend</b></div>
    <div><span class="box" style="background:blue"></span>Occupied</div>
    <div><span class="box" style="background:gray"></span>Vacant</div>
    <div><span class="box" style="background:red"></span>Violation</div>
    <div><span class="box" style="background:orange"></span>Reserved</div>
    <hr>
    <div>Wet Section: Fish, Meat</div>
    <div>Dry Section: Grocery, Dry Goods, Textile, Carinderia</div>
  `;
  return div;
};

legend.addTo(map);

</script>

</body>
</html>
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Barangay Market Interactive Map</title>

<!-- LEAFLET MAP LIBRARY -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
/* MAP */
#marketMap{
  height:70vh;
  border-radius:12px;
  border:2px solid var(--blue);
}

#map{
  height:100vh;
/* INFO PANEL */
.info-panel{
  margin-top:12px;
  padding:12px;
  border:1px solid var(--border);
  border-radius:10px;
background:#f4f6f8;
}

/* Legend */
/* LEGEND */
.legend{
background:white;
padding:10px;
border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
font-size:13px;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
}

.legend div{
  margin-bottom:6px;
}

.legend div{margin-bottom:5px}
.box{
  width:14px;
  height:14px;
  display:inline-block;
  margin-right:6px;
  border-radius:3px;
  width:14px;height:14px;display:inline-block;margin-right:6px;border-radius:3px
}
</style>
</head>
<body>

<div id="map"></div>
<div class="app">
  <!-- SIDEBAR (UNCHANGED) -->
  <aside class="sidebar">
    <div class="brand">LGU 3 ADMIN SYSTEM</div>
    <nav>
      <a href="#" class="nav-item active">Dashboard</a>
      <a href="#" class="nav-item">Vendor Management</a>
      <a href="#" class="nav-item">Commodity & Price Monitoring</a>
      <a href="#" class="nav-item">Inspection & Compliance</a>
      <a href="#" class="nav-item">Reports & AI Analytics</a>
      <a href="#" class="nav-item">Settings</a>
      <a href="#" class="nav-item" style="margin-top:2rem;font-weight:bold;">Logout</a>
    </nav>
  </aside>

  <!-- MAIN -->
  <section class="main">
    <header class="topbar">
      <button>‚Üê Back</button>
      <button>Export</button>
    </header>

    <div class="content">
      <h1>Barangay Public Market Map</h1>

      <div id="marketMap"></div>

      <div class="info-panel" id="stallInfo">
        Click a stall to view vendor information.
      </div>
    </div>
  </section>
</div>

<script>

/* ====== MAP INITIALIZATION ====== */
/* =============================
   MAP SETUP (Google-map style)
============================= */

const imageWidth = 2000;  // adjust if needed
const imageHeight = 1200; // adjust if needed
const mapWidth = 1600;
const mapHeight = 900;

const map = L.map('map', {
  crs: L.CRS.Simple,
  minZoom: -2,
  maxZoom: 4
const map = L.map('marketMap',{
  crs:L.CRS.Simple,
  minZoom:-2,
  maxZoom:3
});

const bounds = [[0,0], [imageHeight, imageWidth]];

/* ====== LOAD MARKET IMAGE ====== */
/* PUT YOUR IMAGE FILE NAME HERE */
const image = L.imageOverlay("Messenger_creation_0D91EB5E-B5A0-45C0-B80A-DC3D7F8AEED0.jpeg", bounds).addTo(map);
const bounds = [[0,0],[mapHeight,mapWidth]];
L.rectangle(bounds,{color:"#ccc",weight:1}).addTo(map);
map.fitBounds(bounds);


/* ====== VENDOR DATA ====== */
/* =============================
   VENDOR DATA
============================= */

const vendors = {
  32:{name:"Lily's Textile Stall", section:"Textile", status:"Occupied"},
  5:{name:"Pedro Fish Vendor", section:"Fish", status:"Occupied"},
  18:{name:"Maria Meat Shop", section:"Meat", status:"Occupied"},
  60:{name:"ABC Grocery", section:"Grocery", status:"Occupied"},
  77:{name:"Dry Goods Store", section:"Dry Goods", status:"Occupied"},
  90:{name:"Reserved Stall", section:"Textile", status:"Reserved"},
  15:{name:"Violation Stall", section:"Fish", status:"Violation"}
  5:{name:"Pedro Fish Vendor",section:"Fish",status:"Occupied"},
  15:{name:"Violation Fish Stall",section:"Fish",status:"Violation"},
  18:{name:"Maria Meat Shop",section:"Meat",status:"Occupied"},
  60:{name:"ABC Grocery",section:"Grocery",status:"Occupied"},
  77:{name:"Dry Goods Store",section:"Dry Goods",status:"Occupied"},
  90:{name:"Textile Reserved",section:"Textile",status:"Reserved"},
  120:{name:"Carinderia ni Aling Nena",section:"Carinderia",status:"Occupied"}
};


/* ====== STATUS COLORS ====== */
/* =============================
   STATUS COLOR
============================= */

function getColor(status){
  switch(status){
    case "Occupied": return "blue";
    case "Violation": return "red";
    case "Reserved": return "orange";
    default: return "gray";
  }
  if(status==="Occupied") return "blue";
  if(status==="Violation") return "red";
  if(status==="Reserved") return "orange";
  return "gray";
}

/* =============================
   ADD STALL
============================= */

/* ====== ADD STALL MARKERS ====== */
/* You must adjust coordinates to match real stall locations */

function addStall(no, x, y, section){
function addStall(no,x,y,section){

const vendor = vendors[no];
const status = vendor ? vendor.status : "Vacant";

  const marker = L.circleMarker([y, x],{
  const marker = L.circleMarker([y,x],{
radius:8,
color:getColor(status),
fillColor:getColor(status),
fillOpacity:0.8
}).addTo(map);

  marker.bindPopup(`
    <b>Stall No:</b> ${no}<br>
    <b>Section:</b> ${section}<br>
    <b>Status:</b> ${status}<br>
    <b>Vendor:</b> ${vendor ? vendor.name : "Vacant"}
  `);
  marker.on("click",()=>{
    document.getElementById("stallInfo").innerHTML = `
      <strong>Stall No:</strong> ${no}<br>
      <strong>Section:</strong> ${section}<br>
      <strong>Status:</strong> ${status}<br>
      <strong>Vendor:</strong> ${vendor ? vendor.name : "Vacant"}
    `;
  });
}

/* =============================
   WET SECTION (TOP AREA)
============================= */
for(let i=1;i<=20;i++){
  addStall(i, 200 + (i*40), 200, "Fish");
}
for(let i=21;i<=40;i++){
  addStall(i, 200 + ((i-20)*40), 300, "Meat");
}

/* ====== WET SECTION (TOP AREA) ====== */

addStall(1, 300, 200, "Fish");
addStall(5, 450, 220, "Fish");
addStall(15, 600, 240, "Fish");

addStall(18, 900, 220, "Meat");
addStall(22, 1050, 240, "Meat");


/* ====== DRY SECTION (BOTTOM AREA) ====== */

addStall(60, 500, 600, "Grocery");
addStall(77, 800, 650, "Dry Goods");
addStall(90, 1000, 700, "Textile");
addStall(32, 1100, 750, "Textile");
addStall(120, 1300, 800, "Carinderia");

/* =============================
   DRY SECTION (BOTTOM AREA)
============================= */
for(let i=41;i<=60;i++){
  addStall(i, 200 + ((i-40)*40), 500, "Dry Goods");
}
for(let i=61;i<=80;i++){
  addStall(i, 200 + ((i-60)*40), 600, "Grocery");
}
for(let i=81;i<=110;i++){
  addStall(i, 200 + ((i-80)*30), 700, "Textile");
}
for(let i=111;i<=130;i++){
  addStall(i, 200 + ((i-110)*40), 800, "Carinderia");
}

/* ====== LEGEND CONTROL ====== */
/* =============================
   LEGEND
============================= */

const legend = L.control({position:"bottomright"});

legend.onAdd = function(){
  const div = L.DomUtil.create("div","legend");
  div.innerHTML = `
    <div><b>Legend</b></div>
    <div><span class="box" style="background:blue"></span>Occupied</div>
    <div><span class="box" style="background:gray"></span>Vacant</div>
    <div><span class="box" style="background:red"></span>Violation</div>
    <div><span class="box" style="background:orange"></span>Reserved</div>
    <hr>
    <div>Wet Section: Fish, Meat</div>
    <div>Dry Section: Grocery, Dry Goods, Textile, Carinderia</div>
legend.onAdd=function(){
  const div=L.DomUtil.create("div","legend");
  div.innerHTML=`
  <div><b>Legend</b></div>
  <div><span class="box" style="background:blue"></span>Occupied</div>
  <div><span class="box" style="background:gray"></span>Vacant</div>
  <div><span class="box" style="background:red"></span>Violation</div>
  <div><span class="box" style="background:orange"></span>Reserved</div>
  <hr>
  <div><b>Wet Section</b>: Fish, Meat</div>
  <div><b>Dry Section</b>: Grocery, Dry Goods, Textile, Carinderia</div>
 `;
return div;
};

legend.addTo(map);

</script>
