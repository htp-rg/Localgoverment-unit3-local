<!DOCTYPE html>
<html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Barangay Market Interactive Map</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Admin Dashboard - Barangay Market Map</title>

<!-- LEAFLET MAP LIBRARY -->
<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
:root {
  --text:#111;
  --blue:#0a53c1;
  --white:#fff;
  --border:#e6e8eb;
}

#map{
  height:100vh;
  background:#f4f6f8;
}

/* Legend */
.legend{
  background:white;
  padding:10px;
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
  font-size:13px;
}

.legend div{
  margin-bottom:6px;
}

.box{
  width:14px;
  height:14px;
  display:inline-block;
  margin-right:6px;
  border-radius:3px;
}
</style>
</head>
<body>

<div id="map"></div>

<script>

/* ====== MAP INITIALIZATION ====== */

const imageWidth = 2000;  // adjust if needed
const imageHeight = 1200; // adjust if needed

const map = L.map('map', {
  crs: L.CRS.Simple,
  minZoom: -2,
  maxZoom: 4
});

const bounds = [[0,0], [imageHeight, imageWidth]];

/* ====== LOAD MARKET IMAGE ====== */
/* PUT YOUR IMAGE FILE NAME HERE */
const image = L.imageOverlay("Messenger_creation_0D91EB5E-B5A0-45C0-B80A-DC3D7F8AEED0.jpeg", bounds).addTo(map);
map.fitBounds(bounds);


/* ====== VENDOR DATA ====== */

const vendors = {
  32:{name:"Lily's Textile Stall", section:"Textile", status:"Occupied"},
  5:{name:"Pedro Fish Vendor", section:"Fish", status:"Occupied"},
  18:{name:"Maria Meat Shop", section:"Meat", status:"Occupied"},
  60:{name:"ABC Grocery", section:"Grocery", status:"Occupied"},
  77:{name:"Dry Goods Store", section:"Dry Goods", status:"Occupied"},
  90:{name:"Reserved Stall", section:"Textile", status:"Reserved"},
  15:{name:"Violation Stall", section:"Fish", status:"Violation"}
};


/* ====== STATUS COLORS ====== */

function getColor(status){
  switch(status){
    case "Occupied": return "blue";
    case "Violation": return "red";
    case "Reserved": return "orange";
    default: return "gray";
  }
}


/* ====== ADD STALL MARKERS ====== */
/* You must adjust coordinates to match real stall locations */

function addStall(no, x, y, section){

  const vendor = vendors[no];
  const status = vendor ? vendor.status : "Vacant";

  const marker = L.circleMarker([y, x],{
    radius:8,
    color:getColor(status),
    fillColor:getColor(status),
    fillOpacity:0.8
  }).addTo(map);
body{margin:0;font-family:Inter,system-ui,sans-serif;background:#fff;color:#111}

  marker.bindPopup(`
    <b>Stall No:</b> ${no}<br>
    <b>Section:</b> ${section}<br>
    <b>Status:</b> ${status}<br>
    <b>Vendor:</b> ${vendor ? vendor.name : "Vacant"}
  `);
}


/* ====== WET SECTION (TOP AREA) ====== */

addStall(1, 300, 200, "Fish");
addStall(5, 450, 220, "Fish");
addStall(15, 600, 240, "Fish");

addStall(18, 900, 220, "Meat");
addStall(22, 1050, 240, "Meat");


/* ====== DRY SECTION (BOTTOM AREA) ====== */
/* LAYOUT */
.app{display:grid;grid-template-columns:240px 1fr;height:100vh}
.sidebar{background:#4e73df;color:white}
.brand{padding:1rem;font-weight:bold;border-bottom:1px solid rgba(255,255,255,.2)}
nav{padding:1rem}
.nav-item{display:block;color:white;text-decoration:none;padding:.6rem;border-radius:6px;margin-bottom:5px}
.nav-item:hover,.nav-item.active{background:white;color:#4e73df}

addStall(60, 500, 600, "Grocery");
addStall(77, 800, 650, "Dry Goods");
addStall(90, 1000, 700, "Textile");
addStall(32, 1100, 750, "Textile");
addStall(120, 1300, 800, "Carinderia");
.main{display:grid;grid-template-rows:60px 1fr}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:0 1rem;border-bottom:1px solid var(--border)}
.content{padding:1rem;overflow:hidden}

h1{color:var(--blue);margin-bottom:10px}

/* ====== LEGEND CONTROL ====== */

const legend = L.control({position:"bottomright"});

legend.onAdd = function(){
  const div = L.DomUtil.create("div","legend");
  div.innerHTML = `
    <div><b>Legend</b></div>
    <div><span class="box" style="background:blue"></span>Occupied</div>
    <div><span class="box" style="background:gray"></span>Vacant</div>
    <div><span class="box" style="background:red"></span>Violation</div>
    <div><span class="box" style="background:orange"></span>Reserved</div>
    <hr>
    <div>Wet Section: Fish, Meat</div>
    <div>Dry Section: Grocery, Dry Goods, Textile, Carinderia</div>
  `;
  return div;
};

legend.addTo(map);

</script>


