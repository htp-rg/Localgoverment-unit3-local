<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Admin Dashboard - Barangay Market Map</title>

<style>
:root {
  --text: #111;
  --blue: #0a53c1;
  --wet: #e6f2ff;
  --dry: #fff8e6;
  --border: #e6e8eb;
  --shadow: 0 6px 24px rgba(0,0,0,.06);
}

*{box-sizing:border-box;}
body{
  margin:0;
  font-family:Inter,system-ui,sans-serif;
  background:#fff;
  color:var(--text);
}

/* LAYOUT */
.app{display:grid;grid-template-columns:240px 1fr;min-height:100vh;}
.sidebar{background:#4e73df;color:#fff;}
.brand{padding:1rem;font-weight:800;}
nav{padding:1rem;}
.nav-item{display:block;color:#fff;padding:.6rem;border-radius:6px;text-decoration:none;margin-bottom:5px;}
.nav-item:hover{background:#fff;color:#0a53c1;}

.main{display:grid;grid-template-rows:64px 1fr;}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:0 1rem;border-bottom:1px solid var(--border);}
.btn{border:1px solid #111;background:none;padding:.4rem .8rem;border-radius:6px;cursor:pointer;}

.content{padding:20px;overflow:auto;}

h1{color:var(--blue);margin-bottom:15px;}

/* MARKET MAP */
.market-map{
  border:3px solid var(--blue);
  border-radius:12px;
  padding:20px;
  box-shadow:var(--shadow);
  min-width:1100px;
}

/* ZONES */
.zone{
  padding:15px;
  border-radius:12px;
  margin-bottom:20px;
}

.wet-zone{
  background:var(--wet);
  border:2px solid #b3d7ff;
}

.dry-zone{
  background:var(--dry);
  border:2px solid #ffe49d;
}

.zone-title{
  font-weight:bold;
  font-size:16px;
  margin-bottom:10px;
}

/* PASSAGEWAYS */
.passage-horizontal{
  text-align:center;
  padding:8px;
  font-weight:bold;
  background:#f4f6f8;
  margin:10px 0;
  border-radius:6px;
}

.center-entrance{
  text-align:center;
  background:#d9edf7;
  padding:12px;
  font-weight:bold;
  border-radius:8px;
  margin-top:15px;
}

/* SECTION ROW */
.section-row{
  display:flex;
  gap:30px;
}

/* SECTION */
.section{
  background:#fff;
  padding:10px;
  border-radius:10px;
  border:1px dashed #ccc;
}

.section-title{
  font-weight:bold;
  font-size:13px;
  margin-bottom:8px;
}

/* STALL GRID */
.stall-grid{
  display:grid;
  grid-template-columns:repeat(10, 34px);
  gap:5px;
}

.stall{
  width:34px;
  height:34px;
  font-size:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:4px;
  border:1px solid #999;
  cursor:pointer;
  transition:.15s;
}

.stall:hover{transform:scale(1.1);}

/* Colors */
.fish{background:#cce5ff;}
.meat{background:#ffd6d6;}
.drygoods{background:#fff3cd;}
.grocery{background:#d4edda;}
.textile{background:#e2d9ff;}
.carinderia{background:#ffe0f0;}

/* Status */
.occupied{border:2px solid var(--blue);}
.vacant{opacity:.5;}
.violation{background:red;color:#fff;}
.reserved{background:yellow;}

.info-panel{
  margin-top:15px;
  padding:12px;
  background:#f4f6f8;
  border-radius:8px;
}
</style>
</head>
<body>

<div class="app">

  <aside class="sidebar">
    <div class="brand">LGU 3 ADMIN SYSTEM</div>
  </aside>

  <section class="main">
    <header class="topbar">
      <button class="btn">← Back</button>
      <button class="btn">Export</button>
    </header>

    <div class="content">

      <h1>Barangay Public Market Map</h1>

      <div class="market-map">

        <!-- WET ZONE -->
        <div class="zone wet-zone">
          <div class="zone-title">WET MARKET ZONE</div>

          <div class="section-row">
            <div class="section">
              <div class="section-title">FISH SECTION</div>
              <div class="stall-grid" id="fishSection"></div>
            </div>

            <div class="section">
              <div class="section-title">MEAT SECTION</div>
              <div class="stall-grid" id="meatSection"></div>
            </div>
          </div>
        </div>

        <div class="passage-horizontal">MAIN PASSAGEWAY</div>

        <!-- DRY ZONE -->
        <div class="zone dry-zone">
          <div class="zone-title">DRY MARKET ZONE</div>

          <div class="section-row">
            <div class="section">
              <div class="section-title">DRY GOODS</div>
              <div class="stall-grid" id="drygoodsSection"></div>
            </div>

            <div class="section">
              <div class="section-title">GROCERY</div>
              <div class="stall-grid" id="grocerySection"></div>
            </div>
          </div>

          <div class="passage-horizontal">INNER PASSAGEWAY</div>

          <div class="section-row">
            <div class="section">
              <div class="section-title">TEXTILE</div>
              <div class="stall-grid" id="textileSection"></div>
            </div>

            <div class="section">
              <div class="section-title">CARINDERIA</div>
              <div class="stall-grid" id="carinderiaSection"></div>
            </div>
          </div>
        </div>

        <div class="center-entrance">
          ⬇ CENTER ENTRANCE PATHWAY (K-5th Street)
        </div>

      </div>

      <div class="info-panel" id="stallInfo">
        Click a stall to view vendor information.
      </div>

    </div>
  </section>
</div>

<script>
const KEY="barangay_market_vendors";

if(!localStorage.getItem(KEY)){
localStorage.setItem(KEY,JSON.stringify({
32:{name:"Lily's Textile Stall",section:"Textile",status:"Occupied"},
5:{name:"Pedro Fish Vendor",section:"Fish",status:"Occupied"},
18:{name:"Maria Meat Shop",section:"Meat",status:"Occupied"},
60:{name:"ABC Grocery",section:"Grocery",status:"Occupied"},
77:{name:"Dry Goods Store",section:"Dry Goods",status:"Occupied"},
90:{name:"Reserved Stall",section:"Textile",status:"Reserved"},
15:{name:"Violation Stall",section:"Fish",status:"Violation"}
}));
}

const vendors=JSON.parse(localStorage.getItem(KEY));

function createStalls(containerId,start,end,className){
const container=document.getElementById(containerId);
for(let i=start;i<=end;i++){
const div=document.createElement("div");
div.className=`stall ${className}`;
div.dataset.no=i;
div.innerText=i;

if(vendors[i]){
div.classList.add(vendors[i].status.toLowerCase());
}else{
div.classList.add("vacant");
}

div.addEventListener("click",()=>{
const vendor=vendors[i];
document.getElementById("stallInfo").innerHTML=vendor?`
<strong>${vendor.name}</strong><br>
Stall No: ${i}<br>
Section: ${vendor.section}<br>
Status: ${vendor.status}
`:`<strong>Vacant Stall</strong><br>Stall No: ${i}`;
});

container.appendChild(div);
}
}

createStalls("fishSection",1,20,"fish");
createStalls("meatSection",21,40,"meat");
createStalls("drygoodsSection",41,60,"drygoods");
createStalls("grocerySection",61,80,"grocery");
createStalls("textileSection",81,110,"textile");
createStalls("carinderiaSection",111,130,"carinderia");
</script>

</body>
</html>
