<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Admin Dashboard - Barangay Market Map</title>

<style>
:root {
  --text: #111111;
  --blue: #0a53c1;
  --ink-20: #f4f6f8;
  --white: #ffffff;
  --border: #e6e8eb;
  --walkway-color: #d9d9d9;
  --road-color: #bfbfbf;
  --shadow: 0 6px 24px rgba(0, 0, 0, .06);
}
.status-approved { color: green; font-weight: 600; }
.status-declined { color: red; font-weight: 600; }

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: Inter, system-ui, sans-serif;
  background: var(--white);
  color: var(--text);
}
.app { display: grid; grid-template-columns: 240px 1fr; min-height: 100vh; }

.sidebar {
  border-right: 1px solid var(--border);
  background: #4e73df;
}
.brand {
  font-weight: 800;
  text-transform: uppercase;
  padding: 1rem;
  border-bottom: 1px solid var(--border);
}
nav { padding: 1rem; }
.nav-item {
  display: block; padding: .6rem;
  border-radius: 8px; text-decoration: none; color: var(--text);
}
.nav-item:hover, .nav-item.active { background: var(--ink-20); }

.main { display: grid; grid-template-rows: 64px 1fr; min-width: 0; }
.topbar {
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 1rem; border-bottom: 1px solid var(--border);
}
.btn {
  border: 1px solid var(--text);
  background: transparent; padding: .4rem .8rem;
  border-radius: 8px; cursor: pointer;
}
.content{padding:1rem;}

.market-map{
  display:grid;
  grid-template-columns:1fr 60px 1fr;
  background:var(--walkway-color);
  max-width:1000px;
  margin:auto;
  position:relative;
}

.walkway{
  color:#333;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:12px;
  font-weight:bold;
  background:var(--walkway-color);
}
.vertical-spine{grid-column:2;grid-row:1/span 10;}
.horizontal-walkway{
  grid-column:1/span 3;
  height:40px;

}
.arrow{
  width:0;
  height:0;
  border-top:8px solid transparent;
  border-bottom:8px solid transparent;
}

.section{
  background:#fff;
  border:1px solid #ccc;
  padding:10px;
}
.section-title{font-weight:bold;text-align:center;margin-bottom:6px;}

.stall-grid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:4px;
}
.stall{
  border:1px solid #999;
  border-radius:4px;
  font-size:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  background:#fff;
}
.stall.active{outline:3px solid var(--blue);}

.fish{background:#d0e7ff;}
.meat{background:#ffd6d6;}
.grocery{background:#d4edda;}
.drygoods{background:#fff3cd;}
.textile{background:#e2d9ff;}
.carinderia{background:#ffe0f0;}

.occupied{border:2px solid var(--blue);font-weight:bold;}
.vacant{opacity:.5;}
.violation{background:red!important;color:#fff;}
.reserved{background:gold!important;}

.entrance,.exit{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  padding:6px 14px;
  border-radius:20px;
  font-size:12px;
  font-weight:bold;
  color:#fff;
}
.entrance{top:-20px;background:green;}
.exit{bottom:-20px;background:red;}

.entrance::before{
  content:"";
  position:absolute;
  top:-10px;
  left:50%;
  transform:translateX(-50%);
  border-left:8px solid transparent;
  border-right:8px solid transparent;
  border-bottom:10px solid green;
}
.exit::before{
  content:"";
  position:absolute;
  bottom:-10px;
  left:50%;
  transform:translateX(-50%);
  border-left:8px solid transparent;
  border-right:8px solid transparent;
  border-top:10px solid red;
}

.info-panel{
  margin-top:15px;
  padding:12px;
  border:1px solid var(--border);
  border-radius:8px;
  background:#f8f9fc;
}
  .loading-bay-stall{
  background:#f2994a;
  color:#fff;
  font-weight:bold;
  font-size:11px;
  grid-column:1/-1;
  height:30px;
}

.parking-stall{
  background:WHITE;
  color:BLACK;
  font-weight:bold;
  font-size:11px;
  height:60px;       
  display:flex;
  align-items:center;
  justify-content:center;
}
  .legend{
  margin-top:12px;
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  font-size:12px;
}
.legend span{
  display:flex;
  align-items:center;
  gap:6px;
}
.legend-box{
  width:14px;
  height:14px;
  border-radius:3px;
  border:1px solid #999;
}
.cr-male { background:#0a53c1; color:#fff; font-weight:bold; }
.cr-female { background:#d63384; color:#fff; font-weight:bold; }
.admin-stall {
  background:#6c757d; /* gray for Admin */
  color:#fff;
  font-weight:bold;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:20px;
  height:80px; /* bigger rectangle */
}
.admin-stall::before {
  content: "ðŸ‘¤"; /* person icon */
  font-size:36px;
  margin-right:8px;
}
</style>
</head>

<body>
<div class="app">
  <aside class="sidebar">
    <div class="brand">LGU 3 ADMIN SYSTEM</div>
    <nav>
      <a href="marketmap.html" class="nav-item active">Market Map</a>
      <a href="admindashboard.html" class="nav-item">Dashboard</a>
      <a href="adminvendor.html" class="nav-item">Vendor Management</a>
      <a href="admincommodity.html" class="nav-item">Commodity and Price Monitoring</a>
      <a href="admininspection.html" class="nav-item">Inspection and Compliance</a>
      <a href="adminsettings.html" class="nav-item">Settings</a>
      <a href="main.html" class="nav-item" style="margin-top:2rem;font-weight:bold;">Logout</a>
    </nav>
  </aside>

  <section class="main">
    <header class="topbar">
    
  <h2>Market Floor Plan</h2>
  <div>
    <button id="zoomIn">+</button>
    <button id="zoomOut">âˆ’</button>
    <button id="resetZoom">Reset</button>
    <input id="searchStall" placeholder="Search stall no">
  </div>
</header>

<div class="content">
<div id="mapWrapper">
<div class="market-map" id="marketMap">

<div class="entrance">ENTRANCE</div>

<div class="walkway vertical-spine"></div>
  
<div class="section" style="grid-column:1;">
  <div class="section-title">Comfort room</div>
  <div class="stall-grid" id="CrSection"></div>
</div>

<div class="section" style="grid-column:3;">
  <div class="section-title">Admin Office</div>
  <div class="stall-grid" id="adminSection"></div>
</div>

<div class="walkway horizontal-walkway"> ENTRANCE WALKWAY</div>
  
<div class="section" style="grid-column:1;">
  <div class="section-title">FISH</div>
  <div class="stall-grid" id="fishSection"></div>
</div>

<div class="section" style="grid-column:3;">
  <div class="section-title">MEAT</div>
  <div class="stall-grid" id="meatSection"></div>
</div>

<div class="walkway horizontal-walkway">MAIN WALKWAY</div>

<div class="section" style="grid-column:1;">
  <div class="section-title">DRY GOODS</div>
  <div class="stall-grid" id="drygoodsSection"></div>
</div>

<div class="section" style="grid-column:3;">
  <div class="section-title">GROCERY</div>
  <div class="stall-grid" id="grocerySection"></div>
</div>

<div class="walkway horizontal-walkway">INNER WALKWAY</div>

<div class="section" style="grid-column:1;">
  <div class="section-title">TEXTILE</div>
  <div class="stall-grid" id="textileSection"></div>
</div>

<div class="section" style="grid-column:3;">
  <div class="section-title">CARINDERIA</div>
  <div class="stall-grid" id="carinderiaSection"></div>
</div>
<div class="walkway horizontal-walkway">WALKWAY</div>

<div class="section" style="grid-column:1;">
  <div class="section-title">lOADING BAY</div>
  <div class="stall-grid" id="loadingSection"></div>
</div>

<div class="section" style="grid-column:3;">
  <div class="section-title">PARKING AREA</div>
  <div class="stall-grid" id="parkingSection"></div>
</div>

<div class="exit">EXIT</div>

</div>
</div>

<div class="info-panel" id="stallInfo">
Click a stall to view vendor info.
</div>
   <div class="legend">
          <span><div class="legend-box fish"></div> Fish</span>
          <span><div class="legend-box meat"></div> Meat</span>
          <span><div class="legend-box grocery"></div> Grocery</span>
          <span><div class="legend-box drygoods"></div> Dry Goods</span>
          <span><div class="legend-box textile"></div> Textile</span>
          <span><div class="legend-box carinderia"></div> Carinderia</span>
          <span><div class="legend-box" style="border:2px solid #0a53c1;"></div> Occupied</span>
          <span><div class="legend-box" style="opacity:.6;"></div> Vacant</span>
          <span><div class="legend-box" style="background:red;color:white;"></div> Violation</span>
          <span><div class="legend-box" style="background:yellow;color:#111;"></div> Reserved</span>
        </div>

</div>
</section>
</div>

<script>
const vendors = {
  5:{name:"Pedro Fish Vendor",section:"Fish",status:"Occupied"},
  12:{name:"Faye Fish Vendor",section:"Fish",status:"Occupied"},
  23:{name:"Maria Meat Shop",section:"Meat",status:"Occupied"},
   36:{name:"Rona Meat Shop",section:"Meat",status:"Occupied"},
  68:{name:"Evelyn Grocery",section:"Grocery",status:"Occupied"},
  48:{name:"Dry Goods",section:"drygoods",status:"Reserved"},
    61:{name:"Dry Goods",section:"drygoods",status:"Occupied"},
     60:{name:"Dry Goods",section:"drygoods",status:"Occupied"},
  80:{name:"Lily Textile",section:"Textile",status:"Occupied"},
  87:{name:"Lloyd Textile",section:"Textile",status:"Reserved"},
  15:{name:"Violation Stall",section:"Fish",status:"Violation"},
 91:{name:"Aira Carenderia",section:"Carenderia",status:"Occupied"}
};

function createStalls(id,start,end,type,labelText=null){
  const container=document.getElementById(id);
  container.innerHTML="";

  if(type==="loading"){
    const d=document.createElement("div");
    d.className="stall loading-bay-stall";
    d.textContent="LOADING BAY";
    container.appendChild(d);
    return;
  }

  for(let i=start;i<=end;i++){
    const d=document.createElement("div");
    if(labelText) d.textContent = labelText;
else d.textContent = i;
    d.className=`stall ${type}`;
    d.textContent=i;
    d.dataset.no=i;

    if(vendors[i]) d.classList.add(vendors[i].status.toLowerCase());
    else d.classList.add("vacant");

    if(type==="parking"){
      d.classList.add("parking-stall");
      d.textContent="PARK";
    }

    d.onclick=()=>{
      document.querySelectorAll(".stall").forEach(s=>s.classList.remove("active"));
      d.classList.add("active");

      const v=vendors[i];
      document.getElementById("stallInfo").innerHTML=v?
        `<b>STALL:</b> ${i}<br>
         <b>VENDOR:</b> ${v.name}<br>
         <b>SECTION:</b> ${v.section}<br>
         <b>STATUS:</b> ${v.status}`
        :
        `<b>STALL:</b> ${type==="parking"?"PARKING":i}<br><b>STATUS:</b> VACANT`;
    };

    container.appendChild(d);
  }
}
createStalls("CrSection", 0, 0, "cr-male", "Male"); 
createStalls("CrSection", 1, 1, "cr-female", "Female");
createStalls("adminSection", 0, 0, "admin-stall", "Admin"); 
createStalls("fishSection",1,20,"fish");
createStalls("meatSection",21,40,"meat");
createStalls("drygoodsSection",41,65,"drygoods");
createStalls("grocerySection",66,75,"grocery");
createStalls("textileSection",76,90,"textile");
createStalls("carinderiaSection",91,100,"carinderia");
createStalls("loadingSection",0,0,"loading");
createStalls("parkingSection",101,111,"parking"); 

document.getElementById("searchStall").oninput=function(){
  const val=this.value;
  document.querySelectorAll(".stall").forEach(s=>{
    s.style.background="";
    if(val && s.dataset.no===val) s.style.background="yellow";
  });
};

let scale=1;
const map=document.getElementById("marketMap");
function applyZoom(){map.style.transform=`scale(${scale})`;}
document.getElementById("zoomIn").onclick=()=>{scale+=0.1;applyZoom();}
document.getElementById("zoomOut").onclick=()=>{scale=Math.max(0.5,scale-0.1);applyZoom();}
document.getElementById("resetZoom").onclick=()=>{scale=1;applyZoom();}
</script>

</body>
</html>
