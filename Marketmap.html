<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Admin Dashboard - Barangay Market Map</title>

<style>
:root {
  --blue: #0a53c1;
  --border: #e6e8eb;
  --walkway-color: #d9d9d9; /* LIGHT GRAY WALKWAY */
  --road-color: #bfbfbf;
}

/* GLOBAL */
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #fff;
}

/* LAYOUT */
.app { display: grid; grid-template-columns: 240px 1fr; min-height: 100vh; }
.sidebar { background: #4e73df; color:#fff; padding:1rem; }
.nav-item { display:block; color:#fff; text-decoration:none; padding:.5rem; border-radius:6px; }
.nav-item:hover,.nav-item.active{background:#fff;color:#0a53c1;}

.main { display:grid; grid-template-rows:64px 1fr; }
.topbar{display:flex;justify-content:space-between;align-items:center;padding:0 1rem;border-bottom:1px solid var(--border);}
.content{padding:1rem;}

#mapWrapper{
  width:100%;
  overflow:hidden; /* PREVENT MAP FROM GOING OUTSIDE */
  display:flex;
  justify-content:center;
}

.market-map{
  transform-origin:center center; /* ZOOM FROM CENTER */
  transition:transform 0.2s ease;
  max-width:900px; /* LIMIT MAP SIZE */
}


/* WALKWAYS */
.walkway{
  color:#333;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:12px;
  font-weight:bold;
  background:var(--walkway-color);
}
.vertical-spine{grid-column:2;grid-row:1/span 10;}
.horizontal-walkway{
  grid-column:1/span 3;
  height:40px;

}

/* ARROWS */
.arrow{
  width:0;
  height:0;
  border-top:8px solid transparent;
  border-bottom:8px solid transparent;
}

/* SECTIONS */
.section{
  background:#fff;
  border:1px solid #ccc;
  padding:10px;
}
.section-title{font-weight:bold;text-align:center;margin-bottom:6px;}

/* STALLS */
.stall-grid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:4px;
}
.stall{
  border:1px solid #999;
  border-radius:4px;
  font-size:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  background:#fff;
}
.stall.active{outline:3px solid var(--blue);}

/* COLORS */
.fish{background:#d0e7ff;}
.meat{background:#ffd6d6;}
.grocery{background:#d4edda;}
.drygoods{background:#fff3cd;}
.textile{background:#e2d9ff;}
.carinderia{background:#ffe0f0;}

.occupied{border:2px solid var(--blue);font-weight:bold;}
.vacant{opacity:.5;}
.violation{background:red!important;color:#fff;}
.reserved{background:gold!important;}

/* ENTRANCE / EXIT */
.entrance,.exit{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  padding:6px 14px;
  border-radius:20px;
  font-size:12px;
  font-weight:bold;
  color:#fff;
}
.entrance{top:-20px;background:green;}
.exit{bottom:-20px;background:red;}

.entrance::before{
  content:"";
  position:absolute;
  top:-10px;
  left:50%;
  transform:translateX(-50%);
  border-left:8px solid transparent;
  border-right:8px solid transparent;
  border-bottom:10px solid green;
}
.exit::before{
  content:"";
  position:absolute;
  bottom:-10px;
  left:50%;
  transform:translateX(-50%);
  border-left:8px solid transparent;
  border-right:8px solid transparent;
  border-top:10px solid red;
}

/* PARKING & LOADING BOXES */
.parking,
.loading-bay{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  color:white;
  padding:10px 14px;
  border-radius:8px;
  font-size:12px;
  font-weight:bold;
  text-align:center;
  box-shadow:0 4px 10px rgba(0,0,0,.2);
}

.parking{
  right:-150px;
  background:#2f80ed;
}
.loading-bay{
  left:-150px;
  background:#f2994a;
}

/* INFO PANEL */
.info-panel{
  margin-top:15px;
  padding:12px;
  border:1px solid var(--border);
  border-radius:8px;
  background:#f8f9fc;
}
</style>
</head>

<body>
<div class="app">

<aside class="sidebar">
  <h3>LGU 3 ADMIN</h3>
  <a class="nav-item active" href="#">Dashboard</a>
  <a class="nav-item" href="#">Vendor Management</a>
  <a class="nav-item" href="#">Compliance</a>
</aside>

<section class="main">
<header class="topbar">
  <h2>Market Floor Plan</h2>
  <div>
    <button id="zoomIn">+</button>
    <button id="zoomOut">âˆ’</button>
    <button id="resetZoom">Reset</button>
    <input id="searchStall" placeholder="Search stall no">
  </div>
</header>

<div class="content">
<div id="mapWrapper">
<div class="market-map" id="marketMap">

<div class="entrance">ENTRANCE</div>

<!-- SIDE ROADS -->
<div class="side-road-left">
  <div class="arrow arrow-left"></div>
</div>

<div class="side-road-right">
  <div class="arrow arrow-right"></div>
</div>

<!-- PARKING & LOADING -->
<div class="loading-bay">ðŸšš LOADING BAY</div>
<div class="parking">ðŸ…¿ PARKING AREA</div>

<div class="walkway vertical-spine"></div>

<div class="section" style="grid-column:1;">
  <div class="section-title">FISH</div>
  <div class="stall-grid" id="fishSection"></div>
</div>

<div class="section" style="grid-column:3;">
  <div class="section-title">MEAT</div>
  <div class="stall-grid" id="meatSection"></div>
</div>

<div class="walkway horizontal-walkway">MAIN WALKWAY</div>

<div class="section" style="grid-column:1;">
  <div class="section-title">DRY GOODS</div>
  <div class="stall-grid" id="drygoodsSection"></div>
</div>

<div class="section" style="grid-column:3;">
  <div class="section-title">GROCERY</div>
  <div class="stall-grid" id="grocerySection"></div>
</div>

<div class="walkway horizontal-walkway">INNER WALKWAY</div>

<div class="section" style="grid-column:1;">
  <div class="section-title">TEXTILE</div>
  <div class="stall-grid" id="textileSection"></div>
</div>

<div class="section" style="grid-column:3;">
  <div class="section-title">CARINDERIA</div>
  <div class="stall-grid" id="carinderiaSection"></div>
</div>

<div class="exit">EXIT</div>

</div>
</div>

<div class="info-panel" id="stallInfo">
Click a stall to view vendor info.
</div>

</div>
</section>
</div>

<script>
const vendors = {
  5:{name:"Pedro Fish Vendor",section:"Fish",status:"Occupied"},
  18:{name:"Maria Meat Shop",section:"Meat",status:"Occupied"},
  32:{name:"Lily Textile",section:"Textile",status:"Occupied"},
  15:{name:"Violation Stall",section:"Fish",status:"Violation"}
};

function createStalls(id,start,end,type){
  const container=document.getElementById(id);
  for(let i=start;i<=end;i++){
    const d=document.createElement("div");
    d.className=`stall ${type}`;
    d.textContent=i;
    d.dataset.no=i;

    if(vendors[i]) d.classList.add(vendors[i].status.toLowerCase());
    else d.classList.add("vacant");

    d.onclick=()=>{
      document.querySelectorAll(".stall").forEach(s=>s.classList.remove("active"));
      d.classList.add("active");

      const v=vendors[i];
      document.getElementById("stallInfo").innerHTML=v?
        `<b>STALL:</b> ${i}<br>
         <b>VENDOR:</b> ${v.name}<br>
         <b>SECTION:</b> ${v.section}<br>
         <b>STATUS:</b> ${v.status}`
        :
        `<b>STALL:</b> ${i}<br><b>STATUS:</b> VACANT`;
    };

    container.appendChild(d);
  }
}

createStalls("fishSection",1,10,"fish");
createStalls("meatSection",11,20,"meat");
createStalls("drygoodsSection",21,35,"drygoods");
createStalls("grocerySection",36,50,"grocery");
createStalls("textileSection",51,70,"textile");
createStalls("carinderiaSection",71,85,"carinderia");

// SEARCH
document.getElementById("searchStall").oninput=function(){
  const val=this.value;
  document.querySelectorAll(".stall").forEach(s=>{
    s.style.background="";
    if(val && s.dataset.no===val) s.style.background="yellow";
  });
};

let scale = 1;
const map = document.getElementById("marketMap");

function applyZoom(){
  map.style.transform = `scale(${scale})`;
}

document.getElementById("zoomIn").onclick = () => {
  scale = Math.min(2, scale + 0.1);
  applyZoom();
};

document.getElementById("zoomOut").onclick = () => {
  scale = Math.max(0.5, scale - 0.1);
  applyZoom();
};

document.getElementById("resetZoom").onclick = () => {
  scale = 1;
  applyZoom();
};
</script>

</body>
</html>
