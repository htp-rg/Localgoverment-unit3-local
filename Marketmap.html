<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Admin Dashboard - Barangay Market Map</title>
<style>
:root {
  --text: #111;
  --blue: #0a53c1;
  --white: #fff;
  --border: #e6e8eb;
  --shadow: 0 6px 24px rgba(0,0,0,.06);
  --walkway-color: #555555;
  --wet-color: #0a3d91;
  --dry-color: #ff8c00;
}

/* GLOBAL */
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: Inter, system-ui, sans-serif;
  background: var(--white);
  color: var(--text);
}

/* APP LAYOUT */
.app { display: grid; grid-template-columns: 240px 1fr; min-height: 100vh; }
.sidebar { border-right: 1px solid var(--border); background: #4e73df; }
.brand { font-weight: 800; text-transform: uppercase; padding: 1rem; border-bottom: 1px solid var(--border); color: #fff; }
nav { padding: 1rem; }
.nav-item { display: block; padding: .6rem; border-radius: 8px; text-decoration: none; color: #fff; margin-bottom: 5px; }
.nav-item:hover, .nav-item.active { background: var(--white); color: var(--blue); }

.main { display: grid; grid-template-rows: 64px 1fr; }
.topbar { display: flex; align-items: center; justify-content: space-between; padding: 0 1rem; border-bottom: 1px solid var(--border); }
.content { padding: 2rem; overflow-y: auto; }

/* MARKET MAP GRID SYSTEM */
.market-map {
  display: grid;
  /* Col 1: Left Sections | Col 2: Vertical Walkway | Col 3: Right Sections */
  grid-template-columns: 1fr 60px 1fr; 
  gap: 0; /* Removed gaps for "connected" look */
  border: 4px solid #333;
  border-radius: 8px;
  background: #eee;
  max-width: 1000px;
  margin: 0 auto;
}

/* WALKWAYS */
.walkway {
  background: var(--walkway-color);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.vertical-spine {
  grid-column: 2;
  grid-row: 1 / span 10; /* Spans the entire height */
  border-left: 2px solid #444;
  border-right: 2px solid #444;
}

.horizontal-walkway {
  grid-column: 1 / span 3; /* Intersects the vertical spine */
  height: 50px;
  border-top: 2px solid #444;
  border-bottom: 2px solid #444;
  z-index: 2;
}

/* SECTIONS */
.section {
  padding: 15px;
  background: #fff;
  border: 1px solid #ccc;
}
.section-title {
  font-size: 14px;
  font-weight: bold;
  margin-bottom: 10px;
  text-align: center;
}

/* STALL GRID */
.stall-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr); /* Responsive stall sizing */
  gap: 4px;
}

.stall {
  aspect-ratio: 1/1;
  border: 1px solid #999;
  border-radius: 4px;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  background: #fff;
}
.stall.active { outline: 3px solid var(--blue); z-index: 10; background: #fff !important; color: #000 !important; }

/* COLORS */
.fish { background: #d0e7ff; }
.meat { background: #ffd6d6; }
.grocery { background: #d4edda; }
.drygoods { background: #fff3cd; }
.textile { background: #e2d9ff; }
.carinderia { background: #ffe0f0; }

.occupied { border: 2px solid var(--blue); font-weight: bold; }
.vacant { opacity: 0.5; }
.violation { background: #ff4d4d !important; color: white; }
.reserved { background: #ffd700 !important; }

.info-panel { margin-top: 20px; padding: 15px; background: #f8f9fc; border-radius: 8px; border: 1px solid var(--border); }
</style>
</head>
<body>

<div class="app">
  <aside class="sidebar">
    <div class="brand">LGU 3 ADMIN SYSTEM</div>
    <nav>
      <a href="#" class="nav-item active">Dashboard</a>
      <a href="#" class="nav-item">Vendor Management</a>
      <a href="#" class="nav-item">Compliance</a>
      <a href="#" class="nav-item">Logout</a>
    </nav>
  </aside>

  <section class="main">
    <header class="topbar">
      <h1>Market Floor Plan</h1>
      <input type="text" id="searchStall" placeholder="Search Stall No (e.g. 32)" style="padding: 5px; border-radius: 4px; border: 1px solid #ccc;">
    </header>

    <div class="content">
      <div class="market-map">
        
        <div class="walkway vertical-spine"></div>

        <div class="section" style="grid-column: 1;">
          <div class="section-title">FISH SECTION</div>
          <div class="stall-grid" id="fishSection"></div>
        </div>
        <div class="section" style="grid-column: 3;">
          <div class="section-title">MEAT SECTION</div>
          <div class="stall-grid" id="meatSection"></div>
        </div>

        <div class="walkway horizontal-walkway">MAIN WALKWAY</div>

        <div class="section" style="grid-column: 1;">
          <div class="section-title">DRY GOODS</div>
          <div class="stall-grid" id="drygoodsSection"></div>
        </div>
        <div class="section" style="grid-column: 3;">
          <div class="section-title">GROCERY</div>
          <div class="stall-grid" id="grocerySection"></div>
        </div>

        <div class="walkway horizontal-walkway">INNER WALKWAY</div>

        <div class="section" style="grid-column: 1;">
          <div class="section-title">TEXTILE</div>
          <div class="stall-grid" id="textileSection"></div>
        </div>
        <div class="section" style="grid-column: 3;">
          <div class="section-title">CARINDERIA</div>
          <div class="stall-grid" id="carinderiaSection"></div>
        </div>

      </div>

      <div class="info-panel" id="stallInfo">Click a stall to view details.</div>
    </div>
  </section>
</div>

<script>
const vendors = {
    32:{name:"Lily's Textile Stall", section:"Textile", status:"Occupied"},
    5:{name:"Pedro Fish Vendor", section:"Fish", status:"Occupied"},
    18:{name:"Maria Meat Shop", section:"Meat", status:"Occupied"},
    60:{name:"ABC Grocery", section:"Grocery", status:"Occupied"},
    15:{name:"Violation Stall", section:"Fish", status:"Violation"}
};

function createStalls(containerId, start, end, type) {
    const container = document.getElementById(containerId);
    for (let i = start; i <= end; i++) {
        const div = document.createElement("div");
        div.className = `stall ${type}`;
        div.innerText = i;
        div.dataset.no = i;

        if (vendors[i]) {
            div.classList.add(vendors[i].status.toLowerCase());
        } else {
            div.classList.add("vacant");
        }

        div.onclick = () => {
            document.querySelectorAll('.stall').forEach(s => s.classList.remove('active'));
            div.classList.add('active');
            const v = vendors[i];
            document.getElementById("stallInfo").innerHTML = v ? 
                `<strong>${v.name}</strong> (Stall ${i})<br>Status: ${v.status}` : 
                `Stall ${i} is Vacant`;
        };
        container.appendChild(div);
    }
}

createStalls("fishSection", 1, 10, "fish");
createStalls("meatSection", 11, 20, "meat");
createStalls("drygoodsSection", 21, 35, "drygoods");
createStalls("grocerySection", 36, 50, "grocery");
createStalls("textileSection", 51, 70, "textile");
createStalls("carinderiaSection", 71, 85, "carinderia");

document.getElementById("searchStall").oninput = function() {
    const val = this.value;
    document.querySelectorAll('.stall').forEach(s => {
        s.style.background = "";
        if(val && s.dataset.no === val) s.style.background = "#ffff00";
    });
};
</script>
</body>
</html>
